{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React component for uploading KYC documents, with validation, progress tracking, and metadata storage via Supabase.", "external_files": ["../../styles/retro.css", "../common/RetroCard", "../../hooks/useAuth", "../../hooks/useKYC", "../../supabase/client", "../common/StatusBadge"], "external_methods": ["useAuth", "useKYC", "getSupabaseClient", "StatusBadge"], "published": [], "classes": [], "methods": [{"name": "DocumentUpload()", "description": "Main React component handling KYC document uploads, including validation, uploading, and metadata persistence.", "scope": "", "scopeKind": ""}, {"name": "buildPath(uId, sId, type, filename)", "scope": "DocumentUpload", "scopeKind": "function", "description": "unavailable"}, {"name": "onFileChange(e)", "scope": "DocumentUpload", "scopeKind": "function", "description": "unavailable"}, {"name": "onUpload(e)", "scope": "DocumentUpload", "scopeKind": "function", "description": "unavailable"}, {"name": "persistFileMetadata({ submissionId, path, bucket, contentType, size, originalName, docTypeValue })", "scope": "DocumentUpload", "scopeKind": "function", "description": "unavailable"}, {"name": "validateSelectedFile(f)", "scope": "DocumentUpload", "scopeKind": "function", "description": "unavailable"}], "calls": ["useAuth()", "getSupabaseClient()", "useKYC()", "fetchMySubmissions()", "updateSubmission()", "supabase.storage.from('kyc-documents').upload()", "persistFileMetadata()", "setCurrentSubmissionId()", "validateSelectedFile()"], "search-terms": ["DocumentUpload", "KYC document upload React component", "supabase storage upload", "file validation", "metadata persistence", "file progress", "user submissions", "React useState useEffect"], "state": 2, "file_id": 29, "knowledge_revision": 68, "git_revision": "", "ctags": [{"_type": "tag", "name": "DocumentUpload", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^export default function DocumentUpload() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "buildPath", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^  function buildPath(uId, sId, type, filename) {$/", "language": "JavaScript", "kind": "function", "signature": "(uId, sId, type, filename)", "scope": "DocumentUpload", "scopeKind": "function"}, {"_type": "tag", "name": "docType", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^                value={docType}$/", "language": "JavaScript", "kind": "field", "scope": "DocumentUpload.value", "scopeKind": "class"}, {"_type": "tag", "name": "onFileChange", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^                onChange={onFileChange}$/", "language": "JavaScript", "kind": "field", "scope": "onChange", "scopeKind": "class"}, {"_type": "tag", "name": "onFileChange", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^  async function onFileChange(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "DocumentUpload", "scopeKind": "function"}, {"_type": "tag", "name": "onUpload", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^  async function onUpload(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "DocumentUpload", "scopeKind": "function"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^      path,$/", "language": "JavaScript", "kind": "field", "scope": "DocumentUpload.persistFileMetadata.newDoc", "scopeKind": "class"}, {"_type": "tag", "name": "persistFileMetadata", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^  async function persistFileMetadata({ submissionId, path, bucket, contentType, size, originalNa/", "language": "JavaScript", "kind": "function", "signature": "({ submissionId, path, bucket, contentType, size, originalName, docTypeValue })", "scope": "DocumentUpload", "scopeKind": "function"}, {"_type": "tag", "name": "uploading", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^                disabled={uploading}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "uploading", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^              disabled={uploading || !file || !currentSubmissionId}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "validateSelectedFile", "path": "/home/kavia/workspace/code-generation/ekyc-42420-42460/EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "pattern": "/^  function validateSelectedFile(f) {$/", "language": "JavaScript", "kind": "function", "signature": "(f)", "scope": "DocumentUpload", "scopeKind": "function"}], "hash": "d9afe9bbe5a7f7fc959b72caf06de5f8", "format-version": 4, "code-base-name": "EKYCWebApplication", "filename": "EKYCWebApplication/src/components/kyc/DocumentUpload.jsx", "fields": [{"name": "value={docType}", "scope": "DocumentUpload.value", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={onFileChange}", "scope": "onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "path,", "scope": "DocumentUpload.persistFileMetadata.newDoc", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={uploading}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={uploading || !file || !currentSubmissionId}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"68": ""}]}